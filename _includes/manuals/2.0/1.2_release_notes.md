## Release notes for {{page.version}}

This section will be updated prior to the next release.

### Headline features

#### New sidekiq-based implementation for Dynflow
Foreman now uses Dynflow backed by Sidekiq by default on all supported platforms. This change is described in greater detail in [Upcoming changes to Dynflow](https://community.theforeman.org/t/upcoming-changes-to-dynflow/14926). The original Dynflow executor service (called `dynflowd`) was replaced by `redis` and a set of `dynflow-sidekiq@*` services. This new deployment model should address issues we have seen when restarting the Dynflow executor. It also allows us scale more easily, dedicate workers to specific queues and increase the overall throughput.

#### Consolidating on PostgreSQL as only supported database
In the past, Foreman was trying to be database-agnostic and support multiple databases. That has proven to be very challenging and led to multiple issues due to differences between databases. Starting with Foreman 2.0, we are consolidating on PostgreSQL as the only supported database. RPM based installations will also upgrade PostgreSQL to use version 12 from SCL instead of the default version 9.2 shipped in EL7 repositories.
Katello 3.15, that will be released for compatibility with 2.0, will also start the migration to using the PostgreSQL-based Pulp 3. Initially file and container content types will be switched to Pulp 3 followed by more types in future releases. This means that Katello users will eventually enjoy a single database instead of needing to manage multiple ones (as Pulp 2 is based on MongoDB).
For MySQL users, there are migration instruction in [the 1.24 manual](/manuals/1.24/index.html#3.7MigratingtoPostgreSQL). Note that this migration must be done *prior* to upgrading to Foreman 2.0.

#### Database migrations and seeding no longer run as part of package installation
This will speed up package installation and upgrades. Seeding will now occur on application startup if needed. Migrations will be executed by the installer when it runs. Both can still be manually executed if needed, by running `foreman-rake db:migrate` or `foreman-rake db:seed` respectively. ([#28519](https://projects.theforeman.org/issues/28519))

#### Improved UI for managing authentication sources
External authentication sources can now be assigned to taxonomies using a new UI, similar to how LDAP has been managed. The same page can now be used to manage all authentication sources and see the numbers of users created for each one. ([#21987](https://projects.theforeman.org/issues/21987))

### Release notes for 2.0.3
#### Foreman - Security
* CVE-2020-14380: Users can gain elevated rights when logging in with SSO accounts ([#30739](https://projects.theforeman.org/issues/30739))

### Release notes for 2.0.2
#### Foreman - Inventory
* Change Owner in bulk actions is missing ([#30617](https://projects.theforeman.org/issues/30617))

#### Packaging - RPMs
* CVE-2020-14334 - unauthorized cache read on RPM-based installations through local user ([#30490](https://projects.theforeman.org/issues/30490))
* Centos Foreman 2.0 new install can't download xmlrpc  ([#30040](https://projects.theforeman.org/issues/30040))

*A full list of changes in 2.0.2 is available via [Redmine](https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f[]=cf_12&op[cf_12]=%3D&v[cf_12][]=1255)*

### Release notes for 2.0.1
#### Authentication
* page blank when editing external auth sources ([#29092](https://projects.theforeman.org/issues/29092))

#### Compute resources
* Breadcrumb path in compute resources  shows provider-type instead of CR's name ([#29427](https://projects.theforeman.org/issues/29427))

#### Compute resources - VMware
* vmrc not working 1.24 ([#29439](https://projects.theforeman.org/issues/29439))

#### Database
* Add nulldb support for build environments ([#29567](https://projects.theforeman.org/issues/29567))

#### Development tools
* benchmark-ips 2.8.0 is broken ([#29679](https://projects.theforeman.org/issues/29679))

#### Facts
* Uploading facts from Debian 10 (Buster) nodes returns error message from Foreman ([#29110](https://projects.theforeman.org/issues/29110))

#### Foreman modules
* PuppetDB settings are set before the Foreman DB is provisioned ([#30026](https://projects.theforeman.org/issues/30026))
* foreman installer expects shimx64.efi but only shim.efi is installed ([#29690](https://projects.theforeman.org/issues/29690))
* file and docker do not support https with pulpcore ([#29660](https://projects.theforeman.org/issues/29660))
* The system does not seem to be IPA-enrolled ([#29649](https://projects.theforeman.org/issues/29649))
* smart proxy registers prior to pulpcore being available ([#29589](https://projects.theforeman.org/issues/29589))

#### Network
* Only one interface can be marked as Managed ([#29709](https://projects.theforeman.org/issues/29709))

#### Packaging
* Add Puma workers/threads configuration ([#28955](https://projects.theforeman.org/issues/28955))

#### Performance
* Preload application with Puma in production mode ([#29584](https://projects.theforeman.org/issues/29584))
* Improve performance of externalNodes ([#29582](https://projects.theforeman.org/issues/29582))

#### Plugin integration
* Dynflow world gets shared across puma workers in production ([#29258](https://projects.theforeman.org/issues/29258))

#### RPMs
* After upgrade to foreman 2.0 dynfowd is still running ([#29677](https://projects.theforeman.org/issues/29677))

#### Templates
* Efibootmgr_netboot assumes bash is used. ([#29591](https://projects.theforeman.org/issues/29591))
* run seeds in initialization if templates have changed ([#29362](https://projects.theforeman.org/issues/29362))

#### Tests
* chromedriver version mismatch with jenkins chromium version ([#28028](https://projects.theforeman.org/issues/28028))

#### Unattended installations
* Ubuntu 20 changed pxe files url ([#29612](https://projects.theforeman.org/issues/29612))
* Automatically add AppStream repo next to BaseOS as additional media ([#28116](https://projects.theforeman.org/issues/28116))

#### foreman-installer script
* PostgreSQL is installed, regardless of whether it's needed ([#29941](https://projects.theforeman.org/issues/29941))
* Success file is written, even if the installer failed ([#29894](https://projects.theforeman.org/issues/29894))

*A full list of changes in 2.0.1 is available via [Redmine](https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f[]=cf_12&op[cf_12]=%3D&v[cf_12][]=1198)*

### Release notes for 2.0.0
#### API
* graphql:  even if a user has the create permission the user cannot create the object ([#29010](https://projects.theforeman.org/issues/29010))
* settings api accept different values than what it returns ([#28929](https://projects.theforeman.org/issues/28929))
* Inconsistency in trends api params ([#28817](https://projects.theforeman.org/issues/28817))
* Change parameter description of HTTP Proxy id ([#28651](https://projects.theforeman.org/issues/28651))
* drop reports api endpoint ([#28594](https://projects.theforeman.org/issues/28594))
* drop \`host_parameters_attributes.nested\` parameter from host api ([#28593](https://projects.theforeman.org/issues/28593))
* drop deprecated compute resource uuid parameter ([#28592](https://projects.theforeman.org/issues/28592))
* remove deprecated permissions api parameters ([#28591](https://projects.theforeman.org/issues/28591))
* drop deprecated host status endpoint ([#28585](https://projects.theforeman.org/issues/28585))
* Remove \`use_puppet_default\` api params ([#28583](https://projects.theforeman.org/issues/28583))
* drop config_templates api endpoints and parameters ([#28582](https://projects.theforeman.org/issues/28582))
* add organizations and locations to http proxy show API ([#28566](https://projects.theforeman.org/issues/28566))
* GET /api/provisioning_templates/:id returns \`audit_comment: null\` ([#28332](https://projects.theforeman.org/issues/28332))
* Add API endpoint returning visible menu items for current user ([#27547](https://projects.theforeman.org/issues/27547))
* Update scoped search descriptions ([#27098](https://projects.theforeman.org/issues/27098))
* remove friendly_id &lt;5.0 workarounds ([#23234](https://projects.theforeman.org/issues/23234))

#### Audit Log
* Click on Hosts -&gt; Audits render json result ([#29230](https://projects.theforeman.org/issues/29230))
* usability issues around custom audit actions ([#28186](https://projects.theforeman.org/issues/28186))
* Double requests on initial audits page load ([#28173](https://projects.theforeman.org/issues/28173))
* Display request UUID on audits page ([#25762](https://projects.theforeman.org/issues/25762))

#### Authentication
* Wrong Error Message/Return code getting after exceeding the 'failed_login_attempts_limit' ([#28860](https://projects.theforeman.org/issues/28860))
* Ruby 2.7 FrozenError with LDAP auth sources ([#28600](https://projects.theforeman.org/issues/28600))
* Cannnot assign external usergroups in case of OpenID Connect ([#28580](https://projects.theforeman.org/issues/28580))
* Create rake task for external auth source creation ([#28520](https://projects.theforeman.org/issues/28520))
* Ldap refresh failed with "Validation failed: Adding would cause a cycle!" ([#28514](https://projects.theforeman.org/issues/28514))
* Allow external users logged in via OIDC to specify logout URL ([#28324](https://projects.theforeman.org/issues/28324))
* Trusted hosts setting does not work with IPv6 ([#27788](https://projects.theforeman.org/issues/27788))
* provide a ClientCertificate class the plugins can use ([#26644](https://projects.theforeman.org/issues/26644))
* Could not refresh external usergroup from keycloak ([#26314](https://projects.theforeman.org/issues/26314))

#### Authorization
* State the inheritance of admin flag on User edit form ([#27928](https://projects.theforeman.org/issues/27928))
* Compute Resource filter does not correctly allow Refresh Cache ([#25936](https://projects.theforeman.org/issues/25936))

#### Compute resources
* Remove interface header from VM tab ([#28912](https://projects.theforeman.org/issues/28912))
* Update CR api 'region' param description for AzureRm ([#28783](https://projects.theforeman.org/issues/28783))
* Create host using compute_profile the 'image' field under 'OS' tab remain disabled and  host create failed as well ([#28725](https://projects.theforeman.org/issues/28725))
* API changes are required for a new virtual machine command in hammer compute-resource  ([#28548](https://projects.theforeman.org/issues/28548))

#### Compute resources - EC2
* 500 error on /compute_resources/:id/available_{flavors,zones} ([#27835](https://projects.theforeman.org/issues/27835))

#### Compute resources - GCE
* [UI] Hide image field from compute profile form  ([#29183](https://projects.theforeman.org/issues/29183))
* GCE should not display deprecated images while creating image  ([#29049](https://projects.theforeman.org/issues/29049))
* Multiple machine_types/flavors are being shown for provisioning GCE Host ([#28898](https://projects.theforeman.org/issues/28898))
* Proper exception when selected image does not exist anymore on GCE ([#28480](https://projects.theforeman.org/issues/28480))
* GCE CR zones/flavors-or-machine-types/networks listing is not implemented. ([#28136](https://projects.theforeman.org/issues/28136))
* [GCE] Always any selected image type is being selected as f1-micro. ([#28130](https://projects.theforeman.org/issues/28130))
* Compute Resource create does not validates the zone name and creates the Compute Resource. ([#28124](https://projects.theforeman.org/issues/28124))

#### Compute resources - Rackspace
* Deprecate rackspace compute resource ([#29285](https://projects.theforeman.org/issues/29285))

#### Compute resources - VMware
* VMware - do not fetch ResourcesPools if the cluster is not selected ([#28027](https://projects.theforeman.org/issues/28027))
* For the vms built using "Network Based" installation mode on VMWare, unable to change the boot sequence via BIOS ([#26010](https://projects.theforeman.org/issues/26010))

#### Compute resources - libvirt
* Having empty "Allocation (GB)" when creating a new Host, nil:NilClass returned on creating the Host ([#24852](https://projects.theforeman.org/issues/24852))
* unable to destroy libvirt vm ([#12063](https://projects.theforeman.org/issues/12063))

#### Compute resources - oVirt
* APIv3: undefined method \`text' for nil:NilClass ([#28508](https://projects.theforeman.org/issues/28508))
* convert_string_to_bool doesn't deal with array type  ([#28121](https://projects.theforeman.org/issues/28121))
* Fix foreman behavior on ovirt instance type selection ([#28035](https://projects.theforeman.org/issues/28035))
* Add sockets support to fog-ovirt for instance_type ([#28030](https://projects.theforeman.org/issues/28030))
* Nonexistent quota can be set ([#27002](https://projects.theforeman.org/issues/27002))
* v4 API | Optimized for Desktop instead of Server ([#26044](https://projects.theforeman.org/issues/26044))
* Unable to provision a host, if RHV resource created through CLI ([#25281](https://projects.theforeman.org/issues/25281))
* ovirt vm creation fails for slow storage backend ([#22656](https://projects.theforeman.org/issues/22656))

#### DB migrations
* template seeding fails during app initialization ([#29272](https://projects.theforeman.org/issues/29272))
* If seeding fails, Passenger refuses to start ([#28931](https://projects.theforeman.org/issues/28931))
* don't seed on startup if migrations are pending ([#28838](https://projects.theforeman.org/issues/28838))
* dns timeout setting is \`[nil]\` causing dns lookup to fail ([#28727](https://projects.theforeman.org/issues/28727))

#### DHCP
* Improved warning when unused_ip call fails ([#25594](https://projects.theforeman.org/issues/25594))

#### Database
* Installer can fail at apipie:cache:index step due to race condition with plugin role loading\` ([#28767](https://projects.theforeman.org/issues/28767))
* Allow storing if db:seed is required within the DB. ([#28519](https://projects.theforeman.org/issues/28519))
* remove mysql deprecation notification ([#28338](https://projects.theforeman.org/issues/28338))
* Drop support for MySQL for both development and production environments ([#27035](https://projects.theforeman.org/issues/27035))
* set "Rails.application.config.active_record.sqlite3.represent_boolean_as_integer = true" and migrate everything ([#24838](https://projects.theforeman.org/issues/24838))

#### Debian/Ubuntu
* Add dynflow-sidekiq deb package ([#28068](https://projects.theforeman.org/issues/28068))

#### Development tools
* Pry 0.13 breaks db:migrate ([#29390](https://projects.theforeman.org/issues/29390))
* Installing byebug 11.1.0 within development bundler group breaks db:migrate ([#28823](https://projects.theforeman.org/issues/28823))
* update base container image to Fedora 31 ([#28643](https://projects.theforeman.org/issues/28643))
* Fix Rubocop: Style/RedundantBegin ([#28576](https://projects.theforeman.org/issues/28576))
* Fix Rubocop: Performance/RegexpMatch ([#28575](https://projects.theforeman.org/issues/28575))
* Bump TargetRubyVersion to 2.5 for Rubocop ([#28572](https://projects.theforeman.org/issues/28572))
* Fix Rubocop: Layout/AlignArguments ([#28561](https://projects.theforeman.org/issues/28561))
* Fix Rubocop: Layout/ClosingHeredocIndentation ([#28512](https://projects.theforeman.org/issues/28512))
* Fix Rubocop: Lint/SendWithMixinArgument ([#28511](https://projects.theforeman.org/issues/28511))
* Use Github Actions to label PRs based on path ([#28380](https://projects.theforeman.org/issues/28380))
* Update Rubocop to 0.75 ([#28225](https://projects.theforeman.org/issues/28225))
* Allow running Dynflow with sidekiq using docker-compose ([#28204](https://projects.theforeman.org/issues/28204))
* Fix Rubocop: Style/NumericPredicate
 ([#19884](https://projects.theforeman.org/issues/19884))
* Fix Rubocop: Layout/IndentHeredoc
 ([#19779](https://projects.theforeman.org/issues/19779))

#### Facts
* improve fact cleanup performance ([#28564](https://projects.theforeman.org/issues/28564))
* Port facts module from the LegacyModuleLoader to the DefaultModuleLoader ([#27693](https://projects.theforeman.org/issues/27693))
* Update subnets from facts only for provision interface
 ([#25020](https://projects.theforeman.org/issues/25020))

#### Foreman modules
* label pulpcore ports with the right selinux label ([#29069](https://projects.theforeman.org/issues/29069))
* pulpcore 3.0.1 needs to have PULP_STATIC_ROOT set ([#28996](https://projects.theforeman.org/issues/28996))
* foreman_proxy_content::reverse_proxy::proxy_pass_params doesn't allow integers ([#28983](https://projects.theforeman.org/issues/28983))
* Support pulpcore db on remote hosts ([#28901](https://projects.theforeman.org/issues/28901))
* Extra apache configuration needed for cert-based docker syncing ([#28888](https://projects.theforeman.org/issues/28888))
* dynflow-sidekiq worker does not consume from hosts queue ([#28848](https://projects.theforeman.org/issues/28848))
* can't fetch yum contents over https after deploying pulp3 ([#28813](https://projects.theforeman.org/issues/28813))
* REMOTE_USER should be unset for Pulp API cert authentication ([#28761](https://projects.theforeman.org/issues/28761))
* /pulp/content  is not being served over http with pulp3 ([#28711](https://projects.theforeman.org/issues/28711))
* with pulp3 installed on a main katello server, apache should be configured to help serve docker content ([#28696](https://projects.theforeman.org/issues/28696))
* Smart proxy dynflow core listens on 0.0.0.0 ([#28681](https://projects.theforeman.org/issues/28681))
* qpid's wait-for-port ExecStartPost checks 127.0.0.1 which breaks on IPv6 ([#28672](https://projects.theforeman.org/issues/28672))
* support fetching files via /pulp/isos with pulp3 ([#28655](https://projects.theforeman.org/issues/28655))
* support client cert auth with pulp3 ([#28654](https://projects.theforeman.org/issues/28654))
* Hardcoding Proxy Command breaks running Ansible on Debian ([#28559](https://projects.theforeman.org/issues/28559))
* Remove mysql Puppet module from installer ([#28558](https://projects.theforeman.org/issues/28558))
* Install dynflow sidekiq services ([#28067](https://projects.theforeman.org/issues/28067))
* Upgrade katello-ca-consumer rpm will cause rhsm.conf to point back to customer portal. ([#25683](https://projects.theforeman.org/issues/25683))

#### Hammer CLI
* Change the description of the scoped loc and org ([PR #494](https://github.com/theforeman/hammer-cli-foreman/pull/494)), [#28869](http://projects.theforeman.org/issues/28869)
* Bump version to 2.0.0
* Support associating multiple provisioning templates ([PR #484](https://github.com/theforeman/hammer-cli-foreman/pull/484)), [#19999](http://projects.theforeman.org/issues/19999)
* Add command for managing trends ([PR #488](https://github.com/theforeman/hammer-cli-foreman/pull/488)), [#12471](http://projects.theforeman.org/issues/12471)
* Bump hammer version 2.0 develop ([PR #491](https://github.com/theforeman/hammer-cli-foreman/pull/491))
* Host update doesn't delete assigned puppet classes, [#28899](http://projects.theforeman.org/issues/28899)
* Better promts for missing arguments, [#28793](http://projects.theforeman.org/issues/28793)
* Fix help for filter create command, [#28765](http://projects.theforeman.org/issues/28765)
* Fix host creation from image and hostgroup ([PR #471](https://github.com/theforeman/hammer-cli-foreman/pull/471)), [#28541](http://projects.theforeman.org/issues/28541)
* Remove deprecated permissions api parameters, [#28747](http://projects.theforeman.org/issues/28747)
* Drop smart variable handling ([PR #473](https://github.com/theforeman/hammer-cli-foreman/pull/473)), [#28599](http://projects.theforeman.org/issues/28599)
* Add auth source external command ([PR #480](https://github.com/theforeman/hammer-cli-foreman/pull/480)), [#28704](http://projects.theforeman.org/issues/28704)
* Fix unauthorized user error message ([PR #478](https://github.com/theforeman/hammer-cli-foreman/pull/478)), [#28646](http://projects.theforeman.org/issues/28646)
* Add specific oidc option information ([PR #475](https://github.com/theforeman/hammer-cli-foreman/pull/475)), [#28628](http://projects.theforeman.org/issues/28628)
* Fixes #28420: unpin mocha version & fix deprecation warning ([PR #476](https://github.com/theforeman/hammer-cli-foreman/pull/476)), [#28420](http://projects.theforeman.org/issues/28420)
* Fix undefined method  on wrong oidc token endpoint ([PR #479](https://github.com/theforeman/hammer-cli-foreman/pull/479)), [#28196](http://projects.theforeman.org/issues/28196)
* Remove dropped api endpoints from hammer, [#28610](http://projects.theforeman.org/issues/28610)
* Skip one test on ruby 2.7, [#28601](http://projects.theforeman.org/issues/28601)
* Increase id column width for available networks ([PR #468](https://github.com/theforeman/hammer-cli-foreman/pull/468)), [#28503](http://projects.theforeman.org/issues/28503)
* Remove url field from gce info ([PR #466](https://github.com/theforeman/hammer-cli-foreman/pull/466)), [#28135](http://projects.theforeman.org/issues/28135)
* Add organizations and locations http-proxy info command, [#28472](http://projects.theforeman.org/issues/28472)
* Added disk interface to ovirt vm creation help ([PR #462](https://github.com/theforeman/hammer-cli-foreman/pull/462)), [#28454](http://projects.theforeman.org/issues/28454)
* Help message change to support attributes names in ovirt ([PR #464](https://github.com/theforeman/hammer-cli-foreman/pull/464)), [#28464](http://projects.theforeman.org/issues/28464)
* Fixed help message for vmware network-id or name ([PR #465](https://github.com/theforeman/hammer-cli-foreman/pull/465)), [#19702](http://projects.theforeman.org/issues/19702)
* Update taxonomies for auth sources ([PR #461](https://github.com/theforeman/hammer-cli-foreman/pull/461)), [#28451](http://projects.theforeman.org/issues/28451)
* Restrict mocha to not use version > 1.9.0 ([PR #460](https://github.com/theforeman/hammer-cli-foreman/pull/460)), [#28417](http://projects.theforeman.org/issues/28417)
* Re-add owner-id output in hammer host info ([PR #459](https://github.com/theforeman/hammer-cli-foreman/pull/459)), [#28397](http://projects.theforeman.org/issues/28397)
* Add report-template import command ([PR #458](https://github.com/theforeman/hammer-cli-foreman/pull/458)), [#28098](http://projects.theforeman.org/issues/28098)
* Add images uuid to cr images ([PR #457](https://github.com/theforeman/hammer-cli-foreman/pull/457)), [#28132](http://projects.theforeman.org/issues/28132)
* Handle empty params for codegrant flow ([PR #456](https://github.com/theforeman/hammer-cli-foreman/pull/456)), [#28196](http://projects.theforeman.org/issues/28196)
* Add http-proxy to hammer ([PR #454](https://github.com/theforeman/hammer-cli-foreman/pull/454)), [#28176](http://projects.theforeman.org/issues/28176)
* Gce cr info shows zone field ([PR #455](https://github.com/theforeman/hammer-cli-foreman/pull/455)), [#28135](http://projects.theforeman.org/issues/28135)
* Handle error when empty parameters are passed ([PR #453](https://github.com/theforeman/hammer-cli-foreman/pull/453)), [#28196](http://projects.theforeman.org/issues/28196)
* Allow login in tty-less execution ([PR #452](https://github.com/theforeman/hammer-cli-foreman/pull/452)), [#28318](http://projects.theforeman.org/issues/28318)
* Allow adapters print page by page, [#17819](http://projects.theforeman.org/issues/17819)
* Add release documentation ([PR #451](https://github.com/theforeman/hammer-cli-foreman/pull/451)), [#28149](http://projects.theforeman.org/issues/28149)
* Fix method typo ([PR #450](https://github.com/theforeman/hammer-cli-foreman/pull/450)), [#27868](http://projects.theforeman.org/issues/27868)
* Bump to 0.20-develop
* Better prompts for missing arguments, [#27595](http://projects.theforeman.org/issues/27595)

#### Host groups
* Missing entry puppet classes for hostgroup create/update ([#28923](https://projects.theforeman.org/issues/28923))
* Parent object properties are not propagated to Child objects in Location and Host Group
 ([#27927](https://projects.theforeman.org/issues/27927))

#### Installer
* Install postgresql12 SCL package for devel scenario to avoid SELinux issues ([#28934](https://projects.theforeman.org/issues/28934))
* Puppet classes are missing after adding a puppet module and content view publishing ([#28877](https://projects.theforeman.org/issues/28877))
* Change Candlepin ExpiredPoolsJob to run once every 24h ([#28841](https://projects.theforeman.org/issues/28841))
* Remove references to :cdn_proxy, HTTP proxy attributes ([#28837](https://projects.theforeman.org/issues/28837))
* Installer hooks referencing CHILD_STATUS need to require 'English' ([#28779](https://projects.theforeman.org/issues/28779))
* Switch bind_host for foreman proxy to * with move to Ruby 2.5+ from SCL RPM packages ([#28738](https://projects.theforeman.org/issues/28738))
* Upgrade to Postgresql 12 ([#28697](https://projects.theforeman.org/issues/28697))
* Combine hook extensions into a single file ([#28688](https://projects.theforeman.org/issues/28688))
* Katello scenario hook directory incorrectly set ([#28687](https://projects.theforeman.org/issues/28687))
* Introduce install package helper ([#28653](https://projects.theforeman.org/issues/28653))
* Add rubocop ([#28549](https://projects.theforeman.org/issues/28549))
* Move to a single post install hook for Foreman and Katello ([#28530](https://projects.theforeman.org/issues/28530))
* rh-redis5 package needs to be installed before puppet apply to prevent SELinux issues ([#28525](https://projects.theforeman.org/issues/28525))
* set log_rotation_size when enabling log_min_duration_statement for PostgreSQL ([#28497](https://projects.theforeman.org/issues/28497))
* There should be and execute and fail command in helpers to prevent silently passing over upgrade steps ([#28496](https://projects.theforeman.org/issues/28496))
* check for too many issuers in custom SSL certs ([#28367](https://projects.theforeman.org/issues/28367))
* Set locale and timezone to admin user ([#26739](https://projects.theforeman.org/issues/26739))

#### Inventory
* undefined method \`split' for nil:NilClass when viewing the host info with hammer ([#28563](https://projects.theforeman.org/issues/28563))
* No searchable link for "Owner" in host properties in non-english languages ([#12712](https://projects.theforeman.org/issues/12712))

#### JavaScript stack
* OrderableSelect doesn't render inputs so it doesn't send value in form ([#29106](https://projects.theforeman.org/issues/29106))
* Handle properly base errors in ForemanForm ([#28967](https://projects.theforeman.org/issues/28967))
* webpack tree-shaking removes necessary code from the bundle ([#28863](https://projects.theforeman.org/issues/28863))
* The JavaScript Intl is broken in production ([#28857](https://projects.theforeman.org/issues/28857))
* Plugin pages that use react component are broken in production ([#28844](https://projects.theforeman.org/issues/28844))
* Make react component registry more resiliant to duplication ([#28821](https://projects.theforeman.org/issues/28821))
* Blank plugin pages with JS error about CustomElementRegistry ([#28820](https://projects.theforeman.org/issues/28820))
* eslint issue in the empty state component ([#28802](https://projects.theforeman.org/issues/28802))
* refactor statistics folder structure ([#28763](https://projects.theforeman.org/issues/28763))
* Audits page causes endless loop of calls  ([#28735](https://projects.theforeman.org/issues/28735))
* Convert all Storybook stories to Component Story Format ([#28724](https://projects.theforeman.org/issues/28724))
* remove react-test-renderer from package.json ([#28603](https://projects.theforeman.org/issues/28603))
* move API actions into an helper action ([#28595](https://projects.theforeman.org/issues/28595))
* refactor returned payload from API middleware ([#28584](https://projects.theforeman.org/issues/28584))
* Move storybook configurations to foreman-js and consume it in foreman ([#28573](https://projects.theforeman.org/issues/28573))
* Storybook fails on start ([#28513](https://projects.theforeman.org/issues/28513))
* Move stored fixtures to snapshots ([#28507](https://projects.theforeman.org/issues/28507))
* consume jest from @theforeman/env  ([#28488](https://projects.theforeman.org/issues/28488))
* ReactApp component fails with webpack-4 ([#28443](https://projects.theforeman.org/issues/28443))
* use jest instead jest-cli for testing ([#28422](https://projects.theforeman.org/issues/28422))
* Tests are failing after merging the interval-middleware ([#28409](https://projects.theforeman.org/issues/28409))
* consume eslint configuration from foreman-js ([#28393](https://projects.theforeman.org/issues/28393))
* Modal error after react-bootstrap upgrade ([#28391](https://projects.theforeman.org/issues/28391))
* Webpack build warning from the APIMiddleware.js ([#28379](https://projects.theforeman.org/issues/28379))
* Fix API Middleware failure payload ([#28362](https://projects.theforeman.org/issues/28362))
* Fix power host failure reducer ([#28356](https://projects.theforeman.org/issues/28356))
* Update Eslint to the latest version  ([#28339](https://projects.theforeman.org/issues/28339))
* Allow autocomplete to be used without scope - replace for #auto_complete_search ([#28315](https://projects.theforeman.org/issues/28315))
* Move babel configurations to the new env package and consume it in foreman ([#28270](https://projects.theforeman.org/issues/28270))
* Fix tests snapshots ([#28230](https://projects.theforeman.org/issues/28230))
* Upgrade foreman to babel 7 using vendor version 3 ([#28229](https://projects.theforeman.org/issues/28229))
* fix linting errors ([#28228](https://projects.theforeman.org/issues/28228))
* drop support of node 8 ([#28227](https://projects.theforeman.org/issues/28227))
* Stabilize React Storybook ([#28222](https://projects.theforeman.org/issues/28222))
* Removing turbolinks ([#28217](https://projects.theforeman.org/issues/28217))
* Add max-lines eslint rule ([#28191](https://projects.theforeman.org/issues/28191))
* Replace redux-form with formik ([#27898](https://projects.theforeman.org/issues/27898))
* Integrate modals with Redux store ([#27853](https://projects.theforeman.org/issues/27853))
* Create basic ForemanModal component and Storybook ([#27794](https://projects.theforeman.org/issues/27794))
* Update foreman to use async/await - EditorActions ([#27761](https://projects.theforeman.org/issues/27761))
* Update foreman to use async/await - ImpersonateIconActions ([#27760](https://projects.theforeman.org/issues/27760))
* Update foreman to use async/await - BreadcrumbBarActions ([#27759](https://projects.theforeman.org/issues/27759))
* update redux-react to 7.1.0 ([#27393](https://projects.theforeman.org/issues/27393))
* Orderable multi select ([#26801](https://projects.theforeman.org/issues/26801))
* Mount react components from web components ([#26735](https://projects.theforeman.org/issues/26735))
* Add redux middleware for API calls ([#26729](https://projects.theforeman.org/issues/26729))
* Replace AutoComplete in filters forms by React SearchBar ([#25205](https://projects.theforeman.org/issues/25205))

#### Logging
* Add SyslogIdentifier to foreman service for better identification of service in syslog ([#28127](https://projects.theforeman.org/issues/28127))

#### Monitoring
* Fix prometheus telemetry ([#28506](https://projects.theforeman.org/issues/28506))

#### Organizations and Locations
* Hammer filter create fails if default location is set. ([#29065](https://projects.theforeman.org/issues/29065))
* All hosts showing "Failure: undefined method \`title' for nil:NilClass" in Properties pane ([#28891](https://projects.theforeman.org/issues/28891))
* Unable to filter/search http-proxies using Organization/Location for UI. ([#28552](https://projects.theforeman.org/issues/28552))
* don't try to assign lone taxonomies for reports ([#28547](https://projects.theforeman.org/issues/28547))

#### Packaging
* On upgrade dynflowd is not stopped ([#29281](https://projects.theforeman.org/issues/29281))
* telemetry broken on Debian/Ubuntu ([#29276](https://projects.theforeman.org/issues/29276))
* Raise minimum secure_headers version ([#28872](https://projects.theforeman.org/issues/28872))
* Drop database actions from RPM posttrans ([#28791](https://projects.theforeman.org/issues/28791))
* Remove MySQL gem from core ([#28257](https://projects.theforeman.org/issues/28257))
* Drop Ruby 2.3 support in core ([#28002](https://projects.theforeman.org/issues/28002))

#### Plugin integration
* add plugin api to observe changes to models ([#28078](https://projects.theforeman.org/issues/28078))

#### Puppet Reports
* Puppet icon is missing as source in config reports ([#28424](https://projects.theforeman.org/issues/28424))

#### RPMs
* tfm-ror52-rubygem-turbolinks isn't obsoleted ([#29181](https://projects.theforeman.org/issues/29181))
* Remove separate foreman-rails repository ([#28979](https://projects.theforeman.org/issues/28979))
* Package only sidekiq service to execute dynflow jobs ([#28421](https://projects.theforeman.org/issues/28421))
* Support of openidc in keycloak-httpd-client-install package ([#28346](https://projects.theforeman.org/issues/28346))
* satellite-change-hostname fails with error "illegal option ([#28158](https://projects.theforeman.org/issues/28158))

#### Rails
* add application setting to use Rails 6.0 ([#28586](https://projects.theforeman.org/issues/28586))
* Don't use AR's association_scope ([#28565](https://projects.theforeman.org/issues/28565))
* audit failures with Rails 5.2.2 ([#25602](https://projects.theforeman.org/issues/25602))
* set secret_key_base for rails 6.0 upgrade ([#7570](https://projects.theforeman.org/issues/7570))
* Use pry as the default REPL in the development environment ([#3678](https://projects.theforeman.org/issues/3678))

#### Rake tasks
* Stop using strip_heredoc in webpack rake task ([#28619](https://projects.theforeman.org/issues/28619))
* add Rainbow gem to development for templates render task ([#28001](https://projects.theforeman.org/issues/28001))

#### Reporting
* Report Templates Entitlements cannot be scheduled using UI ([#29043](https://projects.theforeman.org/issues/29043))
* Reporting Engine API to list report template per organization/location returns 404 error ([#28987](https://projects.theforeman.org/issues/28987))
* Custom reports have file extension ".text"
 ([#28815](https://projects.theforeman.org/issues/28815))
* Add more formatting macros ([#28770](https://projects.theforeman.org/issues/28770))
* exporting/importing report template process is causing a different report during the visualization (blank lines)
 ([#28768](https://projects.theforeman.org/issues/28768))
* Report which users access the API ([#28168](https://projects.theforeman.org/issues/28168))

#### SELinux
* Httpd needs to be able to connect to Redis ([#28847](https://projects.theforeman.org/issues/28847))

#### Search
* Host query ends up to PG::SyntaxError: ERROR: subquery has too many columns since Update to Foreman 1.24.2 ([#28932](https://projects.theforeman.org/issues/28932))
* PG::DatetimeFieldOverflow search=n01503 ([#28824](https://projects.theforeman.org/issues/28824))
* Filter by os_minor includes unexpected values ([#26816](https://projects.theforeman.org/issues/26816))

#### Security
* SSH key cannot be added when FIPS enabled ([#28861](https://projects.theforeman.org/issues/28861))
* remove gravater from img_src secure header ([#28458](https://projects.theforeman.org/issues/28458))

#### Settings
* drop Parametrized_Classes_in_ENC setting ([#28926](https://projects.theforeman.org/issues/28926))
* default dns timeout value is nil ([#27585](https://projects.theforeman.org/issues/27585))

#### Smart Proxy
* Case insensitive version cleanup for check ([#29137](https://projects.theforeman.org/issues/29137))
* Capsule details shows 'TFTP server: false' in services tab, when tftp_servername in proxy settings is not configured
 ([#25990](https://projects.theforeman.org/issues/25990))
* Fix Rubocop: Lint/AssignmentInCondition ([#28742](https://projects.theforeman.org/issues/28742))
* All requests fail with NoMethodError: undefined method \`empty?' for true:TrueClass ([#28741](https://projects.theforeman.org/issues/28741))
* Do not log body of large requests  ([#27789](https://projects.theforeman.org/issues/27789))

#### Smart Variables
* Remove Enable_Smart_Variables_in_ENC setting ([#28617](https://projects.theforeman.org/issues/28617))
* Remove smart variables strong param filters ([#28567](https://projects.theforeman.org/issues/28567))
* remove smart variables from api ([#28546](https://projects.theforeman.org/issues/28546))
* Remove smart variable index and edit pages ([#28545](https://projects.theforeman.org/issues/28545))
* remove smart variables menu item ([#28544](https://projects.theforeman.org/issues/28544))
* remove smart variable handling from host edit view ([#28543](https://projects.theforeman.org/issues/28543))
* Remove smart variables from puppet class edit view ([#28542](https://projects.theforeman.org/issues/28542))
* remove smart variable handling from classification service ([#28540](https://projects.theforeman.org/issues/28540))
* Remove smart variables views ([#28538](https://projects.theforeman.org/issues/28538))
* Incorrect example to use multiple attributes as a matcher key in the tooltip for Order ([#28343](https://projects.theforeman.org/issues/28343))

#### TFTP
* Regression: Since #19389 boot image of debian is not updated and installation is broken ([#28965](https://projects.theforeman.org/issues/28965))
* Operating system templates are ordered inconsistently in UI. ([#22269](https://projects.theforeman.org/issues/22269))

#### Templates
* Default PXE global template entry "discovery" no longer works for EFI systems ([#29239](https://projects.theforeman.org/issues/29239))
* Discovery cannot be booted over iPXE HTTP ([#29225](https://projects.theforeman.org/issues/29225))
* PXEGrub2 default local boot template causes bootloops ([#29031](https://projects.theforeman.org/issues/29031))
* When creating a new OS, I can not assign provisioning templates ([#28737](https://projects.theforeman.org/issues/28737))
* Allow group_by on AR collections in safe mode ([#28636](https://projects.theforeman.org/issues/28636))
* Ansible tests are failing because of updated provisioning templates ([#28534](https://projects.theforeman.org/issues/28534))
* Unable to revert to the original version of the provisioning template ([#25029](https://projects.theforeman.org/issues/25029))
* foreman_url should be able to append parameters, e.g. static ([#4160](https://projects.theforeman.org/issues/4160))

#### Tests
* smart proxy version comparison test fails due to 2.0 version bump ([#28645](https://projects.theforeman.org/issues/28645))
* require mocha 1.11+ ([#28638](https://projects.theforeman.org/issues/28638))
* DecadeView test fails ([#28606](https://projects.theforeman.org/issues/28606))
* Date components snapshot testing are failing because date passed 2020 ([#28604](https://projects.theforeman.org/issues/28604))
* support mocha &gt;= 1.10 ([#28426](https://projects.theforeman.org/issues/28426))
* Queries::SmartProxyQueryTest failure with Rails 5.2.2 ([#26562](https://projects.theforeman.org/issues/26562))

#### Trends
* API docs should mention allowed trend types ([#28835](https://projects.theforeman.org/issues/28835))

#### Unattended installations
* Support PPC64 PXE files location ([#28846](https://projects.theforeman.org/issues/28846))
* Windows password hashes require 'AdministratorPassword' at the end of passwd string ([#26608](https://projects.theforeman.org/issues/26608))

#### Users
* Improve message on impersonation session start ([#28895](https://projects.theforeman.org/issues/28895))
* As impersonated user, it is possible to delete impersonating user ([#28867](https://projects.theforeman.org/issues/28867))
* User not able to get deleted if it is assigned to multiple user groups ([#28858](https://projects.theforeman.org/issues/28858))
* Non-admin users always get "Missing one of the required permissions" message while accessing their own table_preferences  via API ([#28405](https://projects.theforeman.org/issues/28405))

#### Web Interface
* White border at login view ([#29139](https://projects.theforeman.org/issues/29139))
* Disabled buttons are still working ([#29018](https://projects.theforeman.org/issues/29018))
* Add TypeAheadSelect connected component ([#28856](https://projects.theforeman.org/issues/28856))
* Template editor not always allows refreshing of the preview pane ([#28733](https://projects.theforeman.org/issues/28733))
* mount_date_component doesnt mount date correctly ([#28510](https://projects.theforeman.org/issues/28510))
* make relative time tool tip optional in /common/dates ([#28509](https://projects.theforeman.org/issues/28509))
* Misspelling on login page ([#28468](https://projects.theforeman.org/issues/28468))
* bookmarks and statistics failure reducer use the wrong object ([#28457](https://projects.theforeman.org/issues/28457))
* "Generated at" time on the Dashboard is displayed with no spacing ([#28435](https://projects.theforeman.org/issues/28435))
* autocomplete_f does not allow to explicitly set default search query ([#28371](https://projects.theforeman.org/issues/28371))
* Remove translation from column table function ([#28269](https://projects.theforeman.org/issues/28269))
* Typo in the UI ([#28258](https://projects.theforeman.org/issues/28258))
* Add “Managed” into interface overview ([#25168](https://projects.theforeman.org/issues/25168))
* New UI for Auth sources ([#21987](https://projects.theforeman.org/issues/21987))

#### foreman-debug
* Foreman debug gathers --password 'xyz' ([#28553](https://projects.theforeman.org/issues/28553))

#### foreman-installer script
* New install message shown every time ([#29243](https://projects.theforeman.org/issues/29243))
* PostgreSQL upgrade breaks if an extension is installed ([#28930](https://projects.theforeman.org/issues/28930))
* Foreman 2.0 nightly installer shows errors when a package can't be installed but doesn't fail ([#28903](https://projects.theforeman.org/issues/28903))
* Reset Pulp 3 during foreman-installer --reset ([#28839](https://projects.theforeman.org/issues/28839))
* Turn on pulp3 for new installs of katello in nightly ([#28828](https://projects.theforeman.org/issues/28828))
* duplicate "Success!" message on Installer completion ([#28785](https://projects.theforeman.org/issues/28785))
* confusing output when the installer has finished ([#28717](https://projects.theforeman.org/issues/28717))
* mongo storage upgrade to wiredtiger fails and drops database if mongod is stopped ([#28712](https://projects.theforeman.org/issues/28712))
* Use rh-redis5 SCL on EL7 ([#28407](https://projects.theforeman.org/issues/28407))
* A useless default Apache vhost is shipped ([#28366](https://projects.theforeman.org/issues/28366))
* Let puppet handle migrate_pulp ([#23727](https://projects.theforeman.org/issues/23727))

*A full list of changes in 2.0.0 is available via [Redmine](https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f[]=cf_12&op[cf_12]=%3D&v[cf_12][]=1132)*

### Deprecations
* Support for Rackspace as a Compute Resource is deprecated and will be removed in Foreman 2.1.  [Further details](https://community.theforeman.org/t/dropping-rackspace-compute-resource-from-foreman-core/17690)

### Upgrade warnings

* The RPM packages are not tested on Scientific Linux or Oracle Linux. The Foreman installation on Scientific Linux or Oracle Linux may or may not work. This has always been the case, but is now formalized.
* MySQL database is no longer supported. Users should migrate their data to PostgreSQL *Prior* to upgrading to 2.0. [Further details](https://theforeman.org/2019/09/dropping-support-for-mysql.html)
* SQLite is officially not supported for production deployments any longer. While it shouldn't have been used as a production database and only be used for development, with this release we are officially declaring it unsupported in production. SQLite storage of boolean variables [has changed](https://projects.theforeman.org/issues/24838) due to changes in Ruby on Rails and data can not be easily migrated. Any developers using it can try running [this script](https://github.com/theforeman/foreman/pull/7171#issuecomment-552490998) to convert most of their database prior to performing the upgrade to 2.0. Additional manual actions may be needed to ensure all data is properly migrated. [Further details](https://community.theforeman.org/t/dropping-support-for-sqlite-as-production-database/16158/)
* Ubuntu Xenial (16.04) is no longer supported. Users should upgrade to Bionic (18.04) prior to upgrading Foreman to this release.
* Debian Stretch (9) is no longer supported. Users should upgrade to Buster (10) prior to upgrading Foreman to this release.
* Smart Variables have been removed. Users should use Smart Class Parameters or Global Parameters instead. [Further details](https://community.theforeman.org/t/dropping-smart-variables/16176)
* API endpoints and parameters refering to `config_template[s]` have been removed. Config Templates was the previous name for Provisioning Templates, which were renamed nearly 5 years ago. These long-deprecated endpoints and parameters have been removed and should be replaced by `provisioning_template[s]` respectively in any automation still using them. [Further details](https://projects.theforeman.org/issues/28582)
* The API parameter `use_puppet_default` for smart class parameters and overrides has been dropped. This parameter has been renamed to `omit` and deprecated in Foreman 1.14 and kept for compatibility until this release. [Further details](https://projects.theforeman.org/issues/28583)
* The `api/hosts/<id>/status` endpoint has been removed. Hosts have multiple statuses, to get the configuration status that was provided by this end point use the more specific `api/hosts/<id>/status/configuration` endpoint. [Further details](https://projects.theforeman.org/issues/28585)
* The parameters `name` and `resource_type` have been removed from the permissions API endpoint. The same results can be gained by using the `search` parameter with `name = my_permission_name` or `resource_type = my_resource_type` values. [Further details](https://projects.theforeman.org/issues/28591)
* The `uuid` parameter has been removed from the compute resources API endpoint. The `datacenter` parameter should be used instead. [Further details](https://projects.theforeman.org/issues/28592)
* The host create and update API no longer accepts the `nested` attribute for the `host_parameters_attributes` parameter. This attribute has been ignored and deprecated since Foreman 1.10. [Further details](https://projects.theforeman.org/issues/28593)
* The `api/reports` endpoint has been renamed to `api/config_reports` in Foreman 1.11 and is now removed. The exception is the POST action for new report creation that is kept for backwards compatibility. [Further details](https://projects.theforeman.org/issues/28594)

### Contributors

We'd like to thank the following people who contributed to the Foreman {{page.version}} release:

Adam Cecile, Adam Ruzicka, Aditi Puntambekar, Alex Fisher, Alexander, Alexander Christoph Bihlmaier (acb), Alexander Olofsson, Alexey Masolov, Amir Fefer, Amit Karsale, Amit Upadhye, Arend Lapere, Avi Sharvit, Baptiste Agasse, Bernhard Suttner, Brad Buckingham, Chris Roberts, David Ibarra, Dominik Matoulek, Eric D. Helms, Evgeni Golov, Ewoud Kohl van Wijngaarden, Frederic Schaer, Gary Williams, Hao Yu, Ian Ballou, James Jeffers, James Mead, Jeremy Lenz, Jeroen Hooyberghs, Jitendra Yejare, Jonas Jöst, Jonathon Turel, Justin Sherrill, Kamil Szubrycht, Kaushik Agarwal, Kavita Gaikwad, Kshithij Iyer, Leos Stejskal, Lukáš Zapletal, Marek Hulán, Maria Agaphontzev, Markus Bucher, Matthias Baur, Maximilian, Michael Moll, Nagoor Shaik, Neil Townsend, Ohad Levy, Oleh Fedorenko, Ondřej Ezr, Ondřej Pražák, Ori Rabin, Paul Kranenburg, Rahul Bajaj, Ranjan Kumar, Ron Lavi, Samir Jha, Sergei Petrosian, Shimon Shtein, Shira Maximov, Simon Peeters, Sureshkumar Thirugnanasambandan, Timo Goebel, Tomer Brisker, Waldirio M Pinheiro, Wieberneit, Daniel, William Clark, Yifat Makias, Zach Huntington-Meath, canihavethisone

As well as all users who helped test releases, report bugs and provide feedback on the project.
