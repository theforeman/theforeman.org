## Release notes for {{page.version}}

### Headline features

### Upgrade notes

#### New unattended_url setting

A new setting has been added which controls the URL used in provisioning templates to refer to the Foreman server.  This complements the existing foreman_url setting, which is now used to control the URL for users accessing the Foreman web interface.

Ensure this is correct under *More > Settings > Provisioning > unattended_url*, it should refer to the hostname of the Foreman server and is usually HTTP (even if users access Foreman over HTTPS).

### Release notes for 1.4.0

#### API
* Remove unused show actions from controllers after old API removal (#2986)
* Add available images and IAM information to images API (#3101)
* Add validation to OS families on partition tables, installation media (#2818)
* Fix error message when API authentication fails (#2855)
* Fix API documentation for host compute resource parameters (#2951)
* Add API for importing of Puppet classes from proxies (`import_puppetclasses`) (#3140)
* Add API for orchestration tasks at /api/orchestration/id/tasks (#3566)
* Invalid JSON uploaded now returns an error message instead of 500 error (#3587)

#### Authentication and Authorization

#### CLI

#### Compute resources and Hosts creation
* Add `use_shortname_for_vms` setting to use short hostnames for VM names (#2975)
* Add NIC model selection for creation of VMware VMs (#3116)
* Disable fields that can't be edited during VM host edit (#3338)
* Fix behavior of host creation form when cloning VMware host (#3134)
* Fix IP address suggestion and remove host name when cloning hosts (#3136)
* Allow dash-separated MAC addresses (#3170)
* Fix storage volume error when cloning libvirt hosts (#3177)
* Remove requirement for IP address when creating host in some circumstances (#3182)
* Template URL tokens enabled by default (#3196)
* Prevent browser port being used in template URLs, add unattended_url setting (#3569)

#### Proxy and Services
* Proxy features list can be refreshed from Foreman's UI and API (#1244)
* Add :puppet_user setting to set user for MCollective or puppet kick commands (#3150)

#### Facts and Importers
* Report importer refactored into separate class (#3205)
* Add create_new_host_when_report_is_uploaded setting to disable host creation when report received (#3364)

#### Installer and packaging
* Use foreman-rake in default cronjobs (#3250)
* foreman-gce RPM added for Google Compute Engine (GCE) support (#3050)
* Remove libvirtd dependency from rubygem-ruby-libvirt/foreman-libvirt (#3344)
* Add console rake task, so "foreman-rake console" loads Rails console (#3347)
* Update foreman-cli package to install Hammer CLI (#3495)
* Add facter to bundler group for source installs (#3568)
* `foreman-installer --no-colors` now respected (#3238)
* foreman module changes:
   * foreman() parser function docs updated, added per_page option
* puppet module enhancements:
   * add cron_cmd parameter, use runinterval for cron timing
   * add server_certname, classfile parameters
   * switch to concat for building puppet.conf

#### Internationalization
* Fix some untranslated validation error messages (#3248)

#### Puppet and Puppet integration
* Puppet master and Puppet CA proxies assigned to hosts created via Puppet runs (#1830)
* Add :puppetuser setting to node.rb to run script as another user (#3543)

#### Web Interface
* Add two pane UI for adding and editing objects (#3254)
* Enable host group searching on reports (#3094)
* Add FreeBSD logo to host list (#3168)
* Add full screen edit mode to provisioning template editor (#3274)
* Add categorized list of permissions to role edit page (#3279)

#### VM management
* Add MAC address and memory in MB to VMware listing (#3123)

#### Various fixes and features
* Rails 2 syntax changed to Rails 3 style (#2741)
* Automatically strip leading and trailing whitespace from object names (#3091)
* Remove unused columns from user and user role tables (#3144)
* Improve regexes used in validations (#3249)
* foreman_url setting now defaults to FQDN, not foreman.domain (#3210)
* Improve smart proxy class SQL and whitepsace (#3578)
* 'rr' dependency removed (#3597)

*A full list of changes in 1.4.0 is available via [Redmine](http://projects.theforeman.org/rb/release/2)*

### Contributors

We'd like to thank the following people who contributed to the Foreman 1.3 release:


As well as all users who helped test releases, report bugs and provide feedback on the project.

